{
	"info": {
		"_postman_id": "33dc33c9-9d8f-4179-97ce-dd6f5189f206",
		"name": "ticket system",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "23798497"
	},
	"item": [
		{
			"name": "admin tests",
			"item": [
				{
					"name": "create 1",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 1\",\r\n    \"type\":\"INCIDENT_REPORT\",\r\n    \"impactedSystems\":[\r\n        \"server1\",\r\n        \"server2\"\r\n    ],\r\n    \"description\":\"description of ticket 1\",\r\n    \"comments\":\"something something\",\r\n    \"userSeverity\":\"NORMAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "create 2",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 2\",\r\n    \"type\":\"INCIDENT_REPORT\",\r\n    \"impactedSystems\":[\r\n        \"server3\"\r\n    ],\r\n    \"description\":\"big problem\",\r\n    \"userSeverity\":\"CRITICAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "create 3",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 3\",\r\n    \"description\":\"test ticket that has no details\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "create ticket with mostly empty body. check the database and it should still look ok, since most of the ticket fields should have default empty value"
					},
					"response": []
				},
				{
					"name": "create 4",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 4\",\r\n    \"type\":\"MAINTENANCE\",\r\n    \"impactedSystems\":[\r\n        \"main server\"\r\n    ],\r\n    \"description\":\"ticket that affects high priority server\",\r\n    \"userSeverity\":\"NORMAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "get single ticket 1",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/e9026228-2932-4b8e-9ff5-d7f3ed1b4a34",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"e9026228-2932-4b8e-9ff5-d7f3ed1b4a34"
							]
						},
						"description": "get single ticket. make sure to enter in the ticket id to be a valid one"
					},
					"response": []
				},
				{
					"name": "get single ticket invalid 1",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "employee-id",
								"value": "c69042d4-e9cb-4c2b-a045-a23fd99e77ae",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/tickets/not-real-id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"not-real-id"
							]
						}
					},
					"response": []
				},
				{
					"name": "get single ticket invalid 2",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "employee-id",
								"value": "c69042d4-e9cb-4c2b-a045-a23fd99e77ae",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/tickets/ac2d19de-3800-43bb-abd5-fa2a270d864f",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"ac2d19de-3800-43bb-abd5-fa2a270d864f"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all tickets",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "update ticket 1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "employee-id",
								"value": "3a5955f8-2cb8-4ea6-8f04-fd707ebf7876",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\":\"978b69f9-19f7-4f77-8801-bb482b8a8d9e\",\r\n    \"title\":\"new title for ticket 1\",\r\n    \"assignedEmployees\":[\r\n        \"046871e0-5673-4fea-9458-a0ad911fce74\"\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"update"
							]
						},
						"description": "update a ticket as admin. should provide admin employee id"
					},
					"response": []
				},
				{
					"name": "update ticket 2",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "employee-id",
								"value": "6006f3bc-b62c-4c64-a0d2-4fabdb9495af",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\":\"e9026228-2932-4b8e-9ff5-d7f3ed1b4a34\",\r\n    \"opened\":false,\r\n    \"description\":\"again new description\",\r\n    \"severity\":1000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"update"
							]
						},
						"description": "update a ticket as a creator of the ticket. should enter a ticket id and the corresponding creator of the ticket id"
					},
					"response": []
				},
				{
					"name": "update ticket fail 1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "employee-id",
								"value": "7088f8c2-848c-48f4-b74c-6b8cb2d6b94f",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\":\"6f01e829-e87a-4a50-ba44-cbb796ffc7c9\",\r\n    \"title\":\"new title\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"update"
							]
						},
						"description": "fail to update a ticket because the user is not allowed to access the ticket\n\nmake sure to provide a ticket id and a user id where the user id did not create the ticket and is not assigned to it"
					},
					"response": []
				},
				{
					"name": "get created",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/own-created",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"own-created"
							]
						}
					},
					"response": []
				},
				{
					"name": "get assigned",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/own-assigned",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"own-assigned"
							]
						}
					},
					"response": []
				},
				{
					"name": "get created of target",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/assigned/9c9accef-7ce9-493e-b48b-288875cf5a22",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"assigned",
								"9c9accef-7ce9-493e-b48b-288875cf5a22"
							]
						}
					},
					"response": []
				},
				{
					"name": "get assigned of target",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/assigned/046871e0-5673-4fea-9458-a0ad911fce74",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"assigned",
								"046871e0-5673-4fea-9458-a0ad911fce74"
							]
						}
					},
					"response": []
				}
			],
			"description": "these tests should be run as the admin user"
		},
		{
			"name": "user tests",
			"item": [
				{
					"name": "create 1 Copy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 1 from user\",\r\n    \"type\":\"INCIDENT_REPORT\",\r\n    \"impactedSystems\":[\r\n        \"server4\",\r\n        \"server32\"\r\n    ],\r\n    \"description\":\"description of ticket 1 from user\",\r\n    \"comments\":\"a user made this\",\r\n    \"userSeverity\":\"NORMAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "create 2 Copy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 2 from user\",\r\n    \"type\":\"INCIDENT_REPORT\",\r\n    \"impactedSystems\":[\r\n        \"server3\"\r\n    ],\r\n    \"description\":\"big problem from a user\",\r\n    \"userSeverity\":\"CRITICAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "create 3 Copy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 3 from user\",\r\n    \"description\":\"test ticket that has no details\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "create ticket with mostly empty body. check the database and it should still look ok, since most of the ticket fields should have default empty value"
					},
					"response": []
				},
				{
					"name": "create 4 Copy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\":\"test ticket 4 from user\",\r\n    \"type\":\"MAINTENANCE\",\r\n    \"impactedSystems\":[\r\n        \"main server\"\r\n    ],\r\n    \"description\":\"ticket that affects high priority server\",\r\n    \"userSeverity\":\"NORMAL\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"create"
							]
						},
						"description": "normal create ticket"
					},
					"response": []
				},
				{
					"name": "get single ticket 1 Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/69e333e2-b143-4819-996e-2b9917413ceb",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"69e333e2-b143-4819-996e-2b9917413ceb"
							]
						},
						"description": "get single ticket. make sure to enter in the ticket id to be a valid one"
					},
					"response": []
				},
				{
					"name": "get single ticket fail",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/17688005-f50b-4ad5-9311-5de4c4ea3a52",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"17688005-f50b-4ad5-9311-5de4c4ea3a52"
							]
						},
						"description": "get single ticket. make sure to enter in the ticket id to be a valid one"
					},
					"response": []
				},
				{
					"name": "get all tickets Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "update ticket 1 Copy",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "employee-id",
								"value": "3a5955f8-2cb8-4ea6-8f04-fd707ebf7876",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\":\"69e333e2-b143-4819-996e-2b9917413ceb\",\r\n    \"title\":\"new title for ticket 1 set by user\",\r\n    \"assignedEmployees\":[\r\n        \"046871e0-5673-4fea-9458-a0ad911fce74\"\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/tickets/update",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"update"
							]
						},
						"description": "update a ticket as admin. should provide admin employee id"
					},
					"response": []
				},
				{
					"name": "get created Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/own-created",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"own-created"
							]
						}
					},
					"response": []
				},
				{
					"name": "get assigned Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/own-assigned",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"own-assigned"
							]
						}
					},
					"response": []
				},
				{
					"name": "get created of target Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/assigned/9c9accef-7ce9-493e-b48b-288875cf5a22",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"assigned",
								"9c9accef-7ce9-493e-b48b-288875cf5a22"
							]
						}
					},
					"response": []
				},
				{
					"name": "get assigned of target Copy",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/tickets/assigned/046871e0-5673-4fea-9458-a0ad911fce74",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tickets",
								"assigned",
								"046871e0-5673-4fea-9458-a0ad911fce74"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "localhost:8080",
			"type": "string"
		}
	]
}